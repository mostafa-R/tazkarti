import{e as C}from"./chunk-LGPOBNMH.js";import{a as I}from"./chunk-SFYBACQ7.js";import{a as _,b as o,c as E,d as D,f as y,g as N,h as F,i as U,k as A,m as V}from"./chunk-7VUWGPSI.js";import"./chunk-STR65VTD.js";import{Hb as r,Oa as s,Ob as x,Pa as d,aa as u,db as b,fb as c,ja as f,ka as v,kb as h,ob as n,pb as t,qb as m,ub as S,yb as g,zb as p}from"./chunk-GC2MZ5QA.js";function w(a,j){if(a&1){let e=S();n(0,"div",0)(1,"h5",1),r(2,"\u270F\uFE0F Edit Event"),t(),n(3,"form",2),g("ngSubmit",function(){f(e);let l=p();return v(l.onSubmit())}),n(4,"div",3)(5,"label",4),r(6,"Name"),t(),m(7,"input",5),t(),n(8,"div",3)(9,"label",4),r(10,"Location"),t(),m(11,"input",6),t(),n(12,"div",3)(13,"label",4),r(14,"Date"),t(),m(15,"input",7),t(),n(16,"div",3)(17,"label",4),r(18,"Price"),t(),m(19,"input",8),t(),n(20,"div",3)(21,"label",4),r(22,"Tickets"),t(),m(23,"input",9),t(),n(24,"div",10)(25,"button",11),r(26,"\u{1F4BE} Save"),t()()()()}if(a&2){let e=p();s(3),c("formGroup",e.formUpdate),s(22),c("disabled",e.formUpdate.invalid)}}var L=(()=>{class a{constructor(e,i,l){this._fb=e,this._AppService=i,this._ActivatedRoute=l,this.id="",this._ActivatedRoute.params.subscribe({next:q=>{this.id=q.id,console.log("Event ID:",this.id)}})}ngOnInit(){this._AppService.geteventById(this.id).subscribe({next:e=>{this.formData=e,console.log("Event Data:",e),this.initForm()},error:e=>{console.log(e)}})}initForm(){this.formUpdate=this._fb.group({name:[this.formData.name,[o.required,o.minLength(3)]],location:[this.formData.location,[o.required,o.minLength(5)]],date:[this.formData.date,o.required],price:[this.formData.price,[o.required,o.min(0)]],tickets:[this.formData.tickets,[o.required]]})}onSubmit(){console.log(this.formUpdate.value);let e=this.formUpdate.value;this._AppService.updateEvent(e,this.id).subscribe({next:i=>{console.log("updated",i)}})}static{this.\u0275fac=function(i){return new(i||a)(d(A),d(I),d(C))}}static{this.\u0275cmp=u({type:a,selectors:[["app-update"]],standalone:!0,features:[x],decls:1,vars:1,consts:[[1,"card","mt-4","p-4","shadow-sm"],[1,"mb-3","text-primary"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["formControlName","name",1,"form-control"],["formControlName","location",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","number","formControlName","price",1,"form-control"],["type","number","formControlName","tickets",1,"form-control"],[1,"d-flex","justify-content-end","gap-2"],["type","submit",1,"btn","btn-outline-success","p-2",3,"disabled"]],template:function(i,l){i&1&&b(0,w,27,2,"div",0),i&2&&h(0,l.formUpdate?0:-1)},dependencies:[V,y,_,N,E,D,F,U]})}}return a})();export{L as UpdateComponent};
