import{h as B}from"./chunk-LGPOBNMH.js";import{a as V}from"./chunk-SFYBACQ7.js";import{a as Y,c as j,e as N,l as U}from"./chunk-7VUWGPSI.js";import{k as L}from"./chunk-STR65VTD.js";import{Hb as a,Ib as g,Jb as p,Ka as x,Kb as k,Lb as S,Mb as T,Oa as o,Ob as D,Pa as C,Pb as z,Rb as I,Sb as F,aa as b,db as M,fb as v,ib as P,ja as _,ka as h,kb as O,mb as y,nb as E,ob as n,pb as i,qb as c,ub as w,yb as m,zb as u}from"./chunk-GC2MZ5QA.js";var A=(s,f)=>f.id,W=s=>["/update",s];function q(s,f){if(s&1){let e=w();n(0,"div",27)(1,"div",29)(2,"div",30)(3,"div",31),a(4),i(),n(5,"div",32)(6,"button",33),c(7,"i",34),i(),n(8,"button",35),m("click",function(){let r=_(e).$implicit,d=u();return h(d.deleteEvent(r))}),c(9,"i",36),i()()(),n(10,"div",37)(11,"h5",38),a(12),i(),n(13,"div",39)(14,"div",40),c(15,"i",41),n(16,"span",42),a(17),I(18,"date"),i()(),n(19,"div",40),c(20,"i",43),n(21,"a",44),a(22),i()(),n(23,"div",40),c(24,"i",45),n(25,"span",42),a(26),i()()(),n(27,"div",46)(28,"span",47),a(29),i(),n(30,"span",48),a(31,"EGP"),i()()()()()}if(s&2){let e=f.$implicit,t=u();o(3),P(t.getEventStatus(e.date)),o(),p(" ",t.getEventStatusText(e.date)," "),o(2),v("routerLink",z(13,W,e.id)),o(6),g(e.name),o(5),g(F(18,10,e.date,"MMM dd, yyyy")),o(4),v("href","https://www.google.com/maps/search/?api=1&query="+e.location,x),o(),p(" ",e.location," "),o(4),p("",e.tickets," tickets available"),o(3),g(e.price)}}function G(s,f){s&1&&(n(0,"div",28)(1,"div",49),c(2,"i",50),i(),n(3,"h4"),a(4,"No Events Found"),i(),n(5,"p",51),a(6,"Try adjusting your search criteria or add a new event."),i()())}var X=(()=>{class s{constructor(e){this._AppService=e,this.events=[],this.filteredEvents=[],this.searchTerm="",e.getevents().subscribe({next:t=>{this.events=t,this.filteredEvents=t,console.log(t)},error:t=>{console.log(t)}})}filterEvents(){this.searchTerm.trim()?this.filteredEvents=this.events.filter(e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())||e.location.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredEvents=this.events}getEventStatus(e){let t=new Date(e),r=new Date,d=t.getTime()-r.getTime(),l=Math.ceil(d/(1e3*60*60*24));return l<0?"past":l<=7?"ongoing":"upcoming"}getEventStatusText(e){let t=new Date(e),r=new Date,d=t.getTime()-r.getTime(),l=Math.ceil(d/(1e3*60*60*24));return l<0?"Past":l<=7?"Soon":"Upcoming"}sortByDateDesc(){this.filteredEvents.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}sortByPriceDesc(){this.filteredEvents.sort((e,t)=>t.price-e.price)}deleteEvent(e){let t=e.id;this._AppService.deletEvent(t).subscribe({next:r=>{console.log("deleted",r),this.events=this.events.filter(d=>d.id!==t),this.filterEvents()}})}static{this.\u0275fac=function(t){return new(t||s)(C(V))}}static{this.\u0275cmp=b({type:s,selectors:[["app-events"]],standalone:!0,features:[D],decls:36,vars:3,consts:[[1,"events-header","mb-4"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"display-6","fw-bold","text-gradient","mb-2"],[1,"fas","fa-calendar-alt","me-3"],[1,"col-md-6","text-md-end"],[1,"stats-card"],[1,"stats-icon"],[1,"fas","fa-ticket-alt"],[1,"stats-content"],[1,"stats-number"],[1,"stats-label"],[1,"filters-section","mb-4"],[1,"row","g-3"],[1,"col-md-8"],[1,"search-box"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Search events by name or location...",1,"form-control","search-input",3,"ngModelChange","input","ngModel"],[1,"col-md-4"],[1,"d-flex","gap-2"],[1,"btn","btn-outline-primary","filter-btn",3,"click"],[1,"fas","fa-clock","me-2"],[1,"btn","btn-outline-success","filter-btn",3,"click"],[1,"fas","fa-dollar-sign","me-2"],[1,"events-grid"],[1,"row","g-4"],[1,"col-lg-4","col-md-6"],[1,"empty-state"],[1,"event-card"],[1,"event-card-header"],[1,"event-status"],[1,"event-actions"],[1,"btn","btn-sm","btn-outline-primary","action-btn",3,"routerLink"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger","action-btn",3,"click"],[1,"fas","fa-trash"],[1,"event-card-body"],[1,"event-title"],[1,"event-details"],[1,"detail-item"],[1,"fas","fa-calendar-day","detail-icon"],[1,"detail-text"],[1,"fas","fa-map-marker-alt","detail-icon"],["target","_blank",1,"detail-link",3,"href"],[1,"fas","fa-ticket-alt","detail-icon"],[1,"event-price"],[1,"price-amount"],[1,"price-currency"],[1,"empty-icon"],[1,"fas","fa-calendar-times"],[1,"text-muted"]],template:function(t,r){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),c(5,"i",5),a(6," Events Management "),i()(),n(7,"div",6)(8,"div",7)(9,"div",8),c(10,"i",9),i(),n(11,"div",10)(12,"h3",11),a(13),i(),n(14,"p",12),a(15,"Total Events"),i()()()()()()(),n(16,"div",13)(17,"div",1)(18,"div",14)(19,"div",15)(20,"div",16),c(21,"i",17),n(22,"input",18),T("ngModelChange",function(l){return S(r.searchTerm,l)||(r.searchTerm=l),l}),m("input",function(){return r.filterEvents()}),i()()(),n(23,"div",19)(24,"div",20)(25,"button",21),m("click",function(){return r.sortByDateDesc()}),c(26,"i",22),a(27," Newest First "),i(),n(28,"button",23),m("click",function(){return r.sortByPriceDesc()}),c(29,"i",24),a(30," Price "),i()()()()()(),n(31,"div",25)(32,"div",26),y(33,q,32,15,"div",27,A),i(),M(35,G,7,0,"div",28),i()),t&2&&(o(13),g(r.events.length),o(9),k("ngModel",r.searchTerm),o(11),E(r.filteredEvents),o(2),O(35,r.filteredEvents.length===0?35:-1))},dependencies:[L,B,U,Y,j,N],styles:[".events-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:2rem 0;border-radius:15px;margin-bottom:2rem}.events-header[_ngcontent-%COMP%]   .text-gradient[_ngcontent-%COMP%]{background:linear-gradient(45deg,#fff,#f0f0f0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.stats-card[_ngcontent-%COMP%]{background:#fff3;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:15px;padding:1.5rem;display:flex;align-items:center;gap:1rem;border:1px solid rgba(255,255,255,.3)}.stats-card[_ngcontent-%COMP%]   .stats-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:#ffffff4d;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.stats-card[_ngcontent-%COMP%]   .stats-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0}.stats-card[_ngcontent-%COMP%]   .stats-label[_ngcontent-%COMP%]{margin:0;opacity:.9;font-size:.9rem}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:1.5rem;box-shadow:0 10px 30px #0000001a;border:1px solid #e9ecef}.search-box[_ngcontent-%COMP%]{position:relative}.search-box[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#6c757d;z-index:10}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{padding-left:45px;border-radius:25px;border:2px solid #e9ecef;transition:all .3s ease}.search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.filter-btn[_ngcontent-%COMP%]{border-radius:25px;padding:.5rem 1.5rem;font-weight:500;transition:all .3s ease}.filter-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000001a}.events-grid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.event-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 10px 30px #0000001a;overflow:hidden;transition:all .3s ease;border:1px solid #e9ecef;height:100%}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 20px 40px #00000026}.event-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);padding:1rem;display:flex;justify-content:space-between;align-items:center;color:#fff}.event-status[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase}.event-status.upcoming[_ngcontent-%COMP%]{background:#ffffff4d}.event-status.ongoing[_ngcontent-%COMP%]{background:#28a745cc}.event-status.past[_ngcontent-%COMP%]{background:#6c757dcc}.event-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.event-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:#fff3;border:1px solid rgba(255,255,255,.3);color:#fff;transition:all .3s ease}.event-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.event-card-body[_ngcontent-%COMP%]{padding:1.5rem}.event-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;margin-bottom:1rem;font-size:1.25rem;line-height:1.3}.event-details[_ngcontent-%COMP%]{margin-bottom:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.75rem}.detail-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.detail-icon[_ngcontent-%COMP%]{width:20px;color:#667eea;margin-right:.75rem;font-size:.9rem}.detail-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.detail-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-size:.9rem}.detail-link[_ngcontent-%COMP%]:hover{color:#5a6fd8;text-decoration:underline}.event-price[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem;border-radius:15px;text-align:center;margin-bottom:1rem}.price-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;display:block}.price-currency[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.event-card-footer[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.event-card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:25px;font-weight:600;padding:.75rem 1.5rem;background:linear-gradient(135deg,#4facfe,#00f2fe);border:none;transition:all .3s ease}.event-card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #4facfe66}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:#6c757d}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;color:#dee2e6;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin-bottom:.5rem}@media (max-width: 768px){.events-header[_ngcontent-%COMP%]{padding:1.5rem 0}.events-header[_ngcontent-%COMP%]   .display-6[_ngcontent-%COMP%]{font-size:1.5rem}.stats-card[_ngcontent-%COMP%]{padding:1rem}.stats-card[_ngcontent-%COMP%]   .stats-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.2rem}.stats-card[_ngcontent-%COMP%]   .stats-number[_ngcontent-%COMP%]{font-size:1.5rem}.filters-section[_ngcontent-%COMP%]{padding:1rem}.event-card[_ngcontent-%COMP%]{margin-bottom:1rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.event-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}"]})}}return s})();export{X as EventsComponent};
